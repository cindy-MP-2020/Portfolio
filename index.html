<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
    <title>Cindy's Portfolio</title>
</head>

<body>
        <div class="wrap">
            <!-- 流体布局 -->
            <div class="mask">
                <div class="up">
                    <div id="anim" style="width: 300px; margin-left: 500px;"></div>
                </div>
                <div class="down">
                </div>
                <span class="line"></span>
            </div>
            <div class="content">
                <img src="img/others/home.png" alt="">
            </div>
            <div class="nav">
                <ul>
                    <a href="figma.html" class="page">
                        <li>Figma</li>
                    </a>
                    <a href="illustrator.html" class="page">
                        <li>Illustrator</li>
                    </a>
                    <a href="photoshop.html" class="page">
                        <li>Photoshop</li>
                    </a>
                    <a href="3d.html" class="page">
                        <li>3D Modeling</li>
                    </a>
                </ul>
            </div>
        </div>
    <script>
        //开机页面
        var line = document.querySelector(".mask .line")
        var mians = document.querySelectorAll(".mask div")
        var mask = document.querySelectorAll(".mask")
        var parentMask = document.querySelector(".wrap");
        var mask1 = document.querySelector(".mask")
        var pages = document.querySelectorAll(".page")

        loadingAn()
        function loadingAn() {
            var arr = ['carbon emission calculator 1.jpg', 'Count Your Carbon.jpg', 'Delivery service.jpg', 'f1.jpg', 'f2.jpg', 'f3.jpg', 'f4.jpg', 'f5.jpg', 'f6.jpg', 'f7.jpg', 'Index.jpg', 'Info page.jpg', 'Login.jpg', 'Profile setting.jpg', 'Sign up.jpg'];
            var flag = 0;
            for (var i = 0; i < arr.length; i++) {
                var img = new Image();
                img.src = 'img/figma/' + arr[i];
                img.onload = function() {
                    flag++
                    line.style.width = flag / arr.length * 100 + "%"
                }
                line.addEventListener("transitionend", function() {
                    if (flag === arr.length) {
                        for (var i = 0; i < mians.length; i++) {
                            mians[i].style.height = 0 + "px";
                        }
                        this.style.display = "none";
                    }
                })
                mians[0].addEventListener("transitionend", function() {
                    parentMask.removeChild(mask1);
                })
            }
        }

        //首页动画
        inAn = function() {
                    var content = document.querySelector(".content");
                    var nav = document.querySelector(".nav");
                    content.style.transform = "translateY(0px)";
                    nav.style.transform = "translateY(0px)";
                    content.style.opacity = 1;
                    nav.style.opacity = 1;
                }
        outAn = function() {
                    var content = document.querySelector(".content");
                    var nav = document.querySelector(".nav");
                    content.style.transform = "translateY(-400px)";
                    nav.style.transform = "translateY(100px)";
                    content.style.opacity = 0;
                    nav.style.opacity = 0;
                }
        outAn()
        setTimeout(function() {
                inAn();
            }, 2000)        
    </script>
    <script src="lottie.js"></script>
    <script src="index.js"></script>
</body>

</html>
